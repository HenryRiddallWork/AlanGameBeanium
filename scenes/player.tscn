[gd_scene load_steps=25 format=3 uid="uid://ca2mjl3kgpx36"]

[ext_resource type="Script" uid="uid://bjlctw6a8iajw" path="res://scripts/player/player.gd" id="1_2kdwn"]
[ext_resource type="LabelSettings" uid="uid://devcsruc1o6c6" path="res://assets/font/player_1_font.tres" id="2_3v2ag"]
[ext_resource type="Texture2D" uid="uid://cllc6xge6vj3a" path="res://hook.png" id="2_qhqgy"]
[ext_resource type="Texture2D" uid="uid://dux7yqd7pb0vr" path="res://rope.png" id="2_smehm"]
[ext_resource type="PackedScene" uid="uid://imtv8dqupw8u" path="res://scenes/Kollision.tscn" id="2_ur7pv"]
[ext_resource type="Texture2D" uid="uid://bl3l711mkcopc" path="res://assets/animations/konk/konk_deatg.png" id="3_fjrip"]
[ext_resource type="Script" uid="uid://7ur74s2qji2d" path="res://scripts/state_machine.gd" id="4_dqkch"]
[ext_resource type="Script" uid="uid://vwf0hw7scwoa" path="res://scripts/player/states/on_ground.gd" id="5_qlg0r"]
[ext_resource type="Script" uid="uid://bv2m4bxt3r6ra" path="res://scripts/player/states/in_air.gd" id="6_tuyoq"]
[ext_resource type="Script" uid="uid://deqniykv5cndc" path="res://scripts/player/states/hooked.gd" id="7_fjrip"]
[ext_resource type="AudioStream" uid="uid://c47nxfe1mcanq" path="res://assets/sound effects/konk.wav" id="10_y4r1p"]
[ext_resource type="LabelSettings" uid="uid://bol8r8xjofshh" path="res://assets/font/player_2_font.tres" id="11_d2wvv"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_fjrip"]
rough = true
bounce = 0.6

[sub_resource type="AtlasTexture" id="AtlasTexture_smehm"]
atlas = ExtResource("3_fjrip")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ur7pv"]
atlas = ExtResource("3_fjrip")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_y4r1p"]
atlas = ExtResource("3_fjrip")
region = Rect2(64, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_d2wvv"]
atlas = ExtResource("3_fjrip")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3v2ag"]
atlas = ExtResource("3_fjrip")
region = Rect2(64, 128, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_jej6c"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_smehm")
}],
"loop": true,
"name": &"100_health",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ur7pv")
}],
"loop": true,
"name": &"25_health",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_y4r1p")
}],
"loop": true,
"name": &"50_health",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_d2wvv")
}],
"loop": true,
"name": &"75_health",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3v2ag")
}],
"loop": true,
"name": &"death",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_6oxxb"]
radius = 27.4591

[sub_resource type="GDScript" id="GDScript_d2wvv"]
script/source = "extends AudioStreamPlayer2D
"

[sub_resource type="Animation" id="Animation_3v2ag"]
resource_name = "damage_player"
length = 0.22
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.0666667, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0, 0, 1), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_jej6c"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_f1ej7"]
_data = {
&"RESET": SubResource("Animation_jej6c"),
&"damage_player": SubResource("Animation_3v2ag")
}

[node name="Player" type="RigidBody2D"]
physics_material_override = SubResource("PhysicsMaterial_fjrip")
lock_rotation = true
script = ExtResource("1_2kdwn")
player1Font = ExtResource("2_3v2ag")
player2Font = ExtResource("11_d2wvv")
particle_scene = ExtResource("2_ur7pv")

[node name="Line2D" type="Line2D" parent="."]
texture_repeat = 2
position = Vector2(0.175957, 0.301231)
scale = Vector2(1.0176, 1.03012)
points = PackedVector2Array(0, 0, 130.527, 20.0935)
width = 5.71
texture = ExtResource("2_smehm")
texture_mode = 1

[node name="DirectionHook" type="Sprite2D" parent="."]
visible = false
rotation = 3.12763
texture = ExtResource("2_qhqgy")
offset = Vector2(1, -15)

[node name="Sprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0.625001, -7.375)
scale = Vector2(1.26172, 1.26172)
sprite_frames = SubResource("SpriteFrames_jej6c")
animation = &"100_health"
autoplay = "100_health"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_6oxxb")

[node name="RayCast2D" type="RayCast2D" parent="."]

[node name="State" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("4_dqkch")
initial_state = NodePath("OnGround")

[node name="OnGround" type="Node" parent="State"]
script = ExtResource("5_qlg0r")

[node name="InAir" type="Node" parent="State"]
script = ExtResource("6_tuyoq")

[node name="Hooked" type="Node" parent="State"]
script = ExtResource("7_fjrip")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("10_y4r1p")
script = SubResource("GDScript_d2wvv")

[node name="Label" type="Label" parent="."]
auto_translate_mode = 1
offset_left = -20.0
offset_top = -50.0
offset_right = 20.0
offset_bottom = -27.0
text = "1"
label_settings = ExtResource("11_d2wvv")
horizontal_alignment = 1
vertical_alignment = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_f1ej7")
}
